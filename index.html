<!DOCTYPE html>
<html>
  <head>
      <link rel="stylesheet" type="text/css" href="css/style.css" media="screen" />
  </head>
  <body>
    <header>
       <nav>
        <ul>
          <li><a href="index.html">Point 2</a></li>
          <li><a href="index3.html">Point 3</a></li>
          <li><a href="index7.html">Point 7</a></li>
        </ul>
      </nav>
      <h1>LocalStorage</h1><div class="arrow-right"></div>
      <h2>Saving permanent textarea content</h2>
    </header>  
    <div id="excerpt">
      This sample saves some text on the localStorage object and retrieves the value on load time. Use your browser developer tools to debug the values of the localStorage object.
    </div>
    <div id="content"></div>
    <p id="log"></p>
    <script>
      // Generate the little markup from javascript
      document.querySelector('#content').innerHTML = 
          '<p><em>Save text locally (it will still be available after restarting your browser)</em></p>';
      var area = document.createElement('textarea');
      var saveBto = document.createElement('button');
      area.style.width = '300px'; 
      area.style.height = '150px';
      saveBto.innerHTML='Save';
      document.querySelector('#content').appendChild(area);
      document.querySelector('#content').appendChild(saveBto);
      
      // place content from previous edit
      if (!area.value) {
        area.value = window.localStorage.getItem('value');
      }
       
      // your content will be saved locally
      saveBto.addEventListener('click', function () {
        window.localStorage.setItem('value', area.value);
        window.localStorage.setItem('timestamp', (new Date()).getTime());
      }, false);
      
      updateLog();
      setInterval(updateLog, 3000); // show time every 3 seconds
      
      function updateLog() {
        var delta = 0;
        if (window.localStorage.getItem('value')) {
          delta = ((new Date()).getTime() - (new Date()).setTime(window.localStorage.getItem('timestamp'))) / 1000;
          document.querySelector("#log").innerHTML = 'last saved: ' + delta + 's ago';
        } 
        else {
          area.value = 'Type your text here...';
        }
      }
     </script>
  </body>
</html>â€‹